{"version":3,"sources":["webpack:///webpack/bootstrap a3fe963f80f2661a6f5f","webpack:///./src/js/Utils.js","webpack:///./src/main.js","webpack:///./src/js/FaceMess.js","webpack:///./src/js/WebCam.js","webpack:///./src/js/Histogram.js","webpack:///./src/js/ImageProcessor.js","webpack:///./src/main.scss"],"names":["unitStep","get1DPosition","getCoordinate","POINT_8","RADIUS_1","CAMERA_WIDTH","CAMERA_HEIGHT","CANVAS_WIDTH","CANVAS_HEIGHT","FACE_WIDTH","FACE_HEIGHT","FACE_FRAME","NEIGHBOUR_SHIFT","RGBA_SHIFT","UNIFORM_BINARY_PATTERN","n","colLength","x","y","position","Math","floor","canvas","createWithImage","faceMess","createById","webCamIcon","document","querySelector","getElementById","addEventListener","files","length","handleLocalFile","webcam","isActive","stopWebCam","setAttribute","startWebCam","FaceMess","width","height","context","getContext","capturedCanvas","capturedContext","start","stop","clearRect","drawImage","extractFeature","generateHistogramValue","console","log","uniformBinary","getImageData","src","image","Image","onload","scale","file","type","match","browseImage","window","URL","createObjectURL","id","canvasObject","utils","WebCam","stream","cameraTimeout","scaleH","scaleV","video","createElement","positionX","positionY","navigator","getUserMedia","audio","draw","error","save","restore","setTimeout","clearTimeout","getTracks","Histogram","bins","histogram","i","binLength","push","imageData","data","init","dataLength","isNotUniform","j","uniformLength","incrementHistogramFrequency","index","frequency","normalized","totalFrequencies","totalNormalizedValue","k","round","ImageProcessor","rgb2gray","pixel","backupData","slice","sum","neighbourValue","centerPosition","centerValue","getGrayScaleValue","totalNeighbour","pow","putImageData"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a3fe963f80f2661a6f5f","export const POINT_8 = 8;\nexport const RADIUS_1 = 1;\nexport const CAMERA_WIDTH = 640;\nexport const CAMERA_HEIGHT = 180;\nexport const CANVAS_WIDTH = 180;\nexport const CANVAS_HEIGHT = 180;\nexport const FACE_WIDTH = 180;\nexport const FACE_HEIGHT = 180;\nexport const FACE_FRAME = [(CANVAS_WIDTH - FACE_WIDTH) / 2, (CANVAS_HEIGHT - FACE_HEIGHT) / 2, FACE_WIDTH, FACE_HEIGHT];\nexport const NEIGHBOUR_SHIFT = 3;\nexport const RGBA_SHIFT = 4;\nexport const UNIFORM_BINARY_PATTERN = ['non', 0, 1, 2, 3, 4, 6, 7, 8, 12, 14, 15, 16, 24, 28, 30, 31, 32, 48, 56, 60, 62, 63, 64, 96, 112, 120, 124, 126, 127, 128, 129, 131, 135, 143, 159, 191, 192, 193, 195, 199, 207, 223, 224, 225, 227, 231, 239, 240, 241, 243, 247, 248, 249, 251, 252, 253, 254, 255];\n\nexport function unitStep(n) {\n  if (n < 0) {\n    return 0;\n  } else if (n >= 0) {\n    return 1;\n  }\n}\n\nexport function get1DPosition(colLength, x, y) {\n  return x + y * colLength;\n}\n\nexport function getCoordinate(colLength, position) {\n  return {\n    x: position % colLength,\n    y: Math.floor(position / colLength)\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Utils.js","import FaceMess from './js/FaceMess';\n\nlet canvas = FaceMess.createWithImage('canvas', 'images/lenna.png');\n\nlet faceMess = FaceMess.createById('canvas');\nlet webCamIcon = document.querySelector('#webCam .fa');\n\ndocument.getElementById(\"fileSelector\").addEventListener(\"change\", function () {\n  let files = this.files;\n  if (files.length)\n    faceMess.handleLocalFile(files[0]);\n});\n\ndocument.getElementById('webCam').addEventListener('click', () => {\n  if (faceMess.webcam.isActive) {\n    faceMess.stopWebCam();\n    webCamIcon.setAttribute('class', 'fa fa-play fa-2x');\n  } else {\n    faceMess.startWebCam();\n    webCamIcon.setAttribute('class', 'fa fa-pause fa-2x');\n  }\n});\n\n/*document.getElementById('capture').addEventListener('click', () => {\n  faceMess.capture();\n});*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import WebCam from \"./WebCam\";\nimport Histogram from \"./Histogram\";\nimport ImageProcessor from \"./ImageProcessor\";\n\nclass FaceMess {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.webcam = new WebCam();\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.context = this.canvas.getContext('2d');\n    this.capturedCanvas = document.getElementById('capturedImage');\n    this.capturedContext = this.capturedCanvas.getContext('2d');\n  }\n\n  static createById(id) {\n    return new FaceMess(document.getElementById(id));\n  }\n\n  static createWithImage(id, src) {\n    let canvasObject = FaceMess.createById(id);\n    canvasObject.browseImage(src);\n\n    return canvasObject;\n  }\n\n  startWebCam() {\n    this.webcam.start(this.canvas, this.capturedCanvas);\n  }\n\n  stopWebCam() {\n    this.webcam.stop();\n  }\n\n  capture() {\n    this.capturedContext.clearRect(0, 0, this.width, this.height);\n    this.capturedContext.drawImage(this.canvas, 0, 0);\n    ImageProcessor.extractFeature(this.capturedCanvas);\n    this.generateHistogramValue();\n  }\n\n  generateHistogramValue() {\n    console.log(Histogram.uniformBinary(ImageProcessor.getImageData(this.capturedCanvas)));\n  }\n\n  browseImage(src) {\n    let image = new Image();\n    image.src = src;\n    image.onload = () => {\n      let scale = this.width / image.width;\n      this.capturedContext.clearRect(0, 0, this.width, this.height);\n      this.capturedContext.drawImage(image, 0, (this.height - image.height * scale) / 2, this.width, image.height * scale);\n      ImageProcessor.extractFeature(this.capturedCanvas);\n      this.generateHistogramValue();\n    };\n  }\n\n  handleLocalFile(file) {\n    if (file.type.match(/image.*/)) {\n      this.browseImage(window.URL.createObjectURL(file));\n    }\n  }\n}\n\nexport default FaceMess;\n\n\n// WEBPACK FOOTER //\n// ./src/js/FaceMess.js","import * as utils from \"./Utils\";\nimport Histogram from \"./Histogram\";\nimport ImageProcessor from \"./ImageProcessor\";\n\nclass WebCam {\n  constructor() {\n    this.stream = '';\n    this.isActive = false;\n    this.cameraTimeout = '';\n    this.scaleH = -1;\n    this.scaleV = 1;\n    this.video = document.createElement('video');\n  }\n\n  start(canvas, capturedCanvas) {\n    let context = canvas.getContext(\"2d\");\n    let capturedContext = capturedCanvas.getContext(\"2d\");\n    let positionX = (this.scaleH === 1 ? 0 : utils.CANVAS_WIDTH * -1) + (utils.CANVAS_WIDTH - utils.CAMERA_WIDTH) / 2;\n    let positionY = (this.scaleV === 1 ? 0 : utils.CANVAS_HEIGHT * -1) + (utils.CANVAS_HEIGHT - utils.CAMERA_HEIGHT) / 2;\n    navigator.getUserMedia({\n      video: true,\n      audio: false\n    }, (stream) => {\n      this.video.src = window.URL.createObjectURL(stream);\n      this.stream = stream;\n      draw(this.video, context);\n    }, function (error) {\n      console.log(error);\n    });\n    let draw = (video) => {\n      context.save();\n      context.scale(this.scaleH, this.scaleV);\n      context.drawImage(video, positionX, positionY);\n      context.restore();\n      capturedContext.drawImage(canvas, 0, 0);\n      ImageProcessor.extractFeature(capturedCanvas);\n      Histogram.uniformBinary(ImageProcessor.getImageData(capturedCanvas));\n      this.cameraTimeout = setTimeout(draw, 100, video, context);\n    };\n    this.isActive = true;\n  }\n\n  stop() {\n    clearTimeout(this.cameraTimeout);\n    this.stream.getTracks()[0].stop();\n    this.isActive = false;\n  }\n}\n\nexport default WebCam;\n\n\n// WEBPACK FOOTER //\n// ./src/js/WebCam.js","import * as utils from \"./Utils\";\n\nclass Histogram {\n  static init(bins) {\n    let histogram = [];\n    for (let i = 0, binLength = bins.length; i < binLength; i++) {\n      histogram.push({\n        'bin': bins[i],\n        'frequency': 0,\n        'normalized': 0\n      });\n    }\n    return histogram;\n  }\n\n  static uniformBinary(imageData) {\n    let data = imageData.data;\n    let histogram = this.init(utils.UNIFORM_BINARY_PATTERN);\n    for (let i = 0, dataLength = data.length; i < dataLength; i += 4) {\n      let isNotUniform = true;\n      for (let j = 1, uniformLength = utils.UNIFORM_BINARY_PATTERN.length; j < uniformLength; j++) {\n        if (utils.UNIFORM_BINARY_PATTERN[j] === data[i]) {\n          this.incrementHistogramFrequency(histogram, j, dataLength);\n          isNotUniform = false;\n          break;\n        }\n      }\n      if (isNotUniform) {\n        this.incrementHistogramFrequency(histogram, 0, dataLength);\n      }\n    }\n    // console.log(this.isNormalized(histogram, data.length));\n\n    return histogram;\n  }\n\n  static incrementHistogramFrequency(histogram, index, dataLength) {\n    histogram[index].frequency++;\n    histogram[index].normalized = histogram[index].frequency / (dataLength / 4);\n  }\n\n  static isNormalized(histogram, dataLength) {\n    let totalFrequencies = 0, totalNormalizedValue = 0;\n    for (let k = 0; k < histogram.length; k++) {\n      totalFrequencies += histogram[k].frequency;\n      totalNormalizedValue += histogram[k].normalized;\n    }\n    return (totalFrequencies === dataLength / 4) && Math.round(totalNormalizedValue) === 1;\n  }\n}\n\nexport default Histogram;\n\n\n// WEBPACK FOOTER //\n// ./src/js/Histogram.js","import * as utils from \"./Utils\";\n\nclass ImageProcessor {\n  static getImageData(canvas) {\n    return canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height);\n  }\n\n  static rgb2gray(data) {\n    for (let i = 0, dataLength = data.length; i < dataLength; i += 4) {\n      data[i] = data[i + 1] = data[i + 2] = data[i] * 0.3 + data[i + 1] * 0.59 + data[i + 2] * 0.11;\n    }\n\n    return data;\n  }\n\n  static rgbCanvas2grey(canvas) {\n    let imageData = this.getImageData(canvas);\n    return this.rgb2gray(imageData.data);\n  }\n\n  static getPixelValue(context, x, y) {\n    let pixel = context.getImageData(x, y, 1, 1);\n\n    return pixel.data[0];\n  }\n\n  static extractFeature(canvas) {\n    let context = canvas.getContext('2d');\n    let imageData = ImageProcessor.getImageData(canvas);\n    let data = imageData.data;\n    let backupData = imageData.data.slice();\n\n    for (let y = 1; y < canvas.height - 1; y++) {\n      for (let x = 1, index = 0; x < canvas.width - 1; x++, index += 4) {\n        let sum = 0;\n        let neighbourValue = [];\n        let centerPosition = utils.get1DPosition(canvas.width, x, y) * utils.RGBA_SHIFT;\n        let centerValue = this.getGrayScaleValue(backupData, centerPosition);\n        neighbourValue[7] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x - 1, y - 1) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[6] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x, y - 1) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[5] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x + 1, y - 1) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[4] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x + 1, y) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[3] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x + 1, y + 1) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[2] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x, y + 1) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[1] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x - 1, y + 1) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[0] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x - 1, y) * utils.RGBA_SHIFT) - centerValue;\n\n        for (let k = 0, totalNeighbour = neighbourValue.length; k < totalNeighbour; k++) {\n          sum += utils.unitStep(neighbourValue[k]) * Math.pow(2, k);\n        }\n        data[centerPosition] = data[centerPosition + 1] = data[centerPosition + 2] = sum;\n      }\n    }\n\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    context.putImageData(imageData, 0, 0);\n  }\n\n  static getGrayScaleValue(data, position) {\n    return data[position] * 0.3 + data[position + 1] * 0.59 + data[position + 2] * 0.11;\n  }\n}\n\nexport default ImageProcessor;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ImageProcessor.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.scss\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}