{"version":3,"sources":["webpack:///webpack/bootstrap 0d2e3adc6ffdc39da9dd","webpack:///./src/js/Utils.js","webpack:///./src/js/ImageProcessor.js","webpack:///./src/js/Histogram.js","webpack:///./src/js/Data.js","webpack:///./src/main.js","webpack:///./src/js/FaceMess.js","webpack:///./src/js/WebCam.js","webpack:///./src/main.scss","webpack:///./src/js/Session.js"],"names":["unitStep","get1DPosition","getCoordinate","valuesArray","FACE_WIDTH","FACE_HEIGHT","CAMERA_WIDTH","CAMERA_HEIGHT","CANVAS_WIDTH","CANVAS_HEIGHT","CAPTURE_HEIGHT","CAPTURE_WIDTH","FACE_FRAME","POINT_8","RADIUS_1","RADIUS_2","RGBA_SHIFT","NEIGHBOUR_SHIFT","WEIGHT_BLOCK","UNIFORM_BINARY_PATTERN","BLOCK_9_BY_9","CHI_RECOGNITION_DOF","CHI_RECOGNITION_BLOCKS_DOF","CHI_PREDICTION_DOF","n","colLength","x","y","position","Math","floor","arrayOfObjects","key","values","i","total","length","hasOwnProperty","push","utils","ImageProcessor","canvas","parameters","getContext","getImageData","width","height","data","dataLength","imageData","rgb2gray","context","pixel","radius","backupData","slice","index","sum","neighbourValue","centerPosition","centerValue","getGrayScaleValue","k","totalNeighbour","pow","clearRect","putImageData","extract8PointRadius1Feature","maxMatchBlock","value","name","observedBlockHistogram","totalBlock","concat","uniformBinary","compareWithData","Object","assign","get","relativeData","type","maxMatch","difference","compareHistogram","Histogram","bins","histogram","binLength","init","isNotUniform","j","uniformLength","incrementHistogramFrequency","frequency","normalized","firstHistogram","secondHistogram","weightedChiSquare","totalFrequencies","totalNormalizedValue","round","has","area","blocks","put","FACE_DATA","createWithImage","faceMess","createById","webCamIcon","document","querySelector","getElementById","addEventListener","webcam","isActive","stopWebCam","setAttribute","startWebCam","input","style","display","onkeydown","event","keyCode","capture","FaceMess","capturedCanvas","start","stop","src","image","Image","onload","scale","drawImage","file","match","browseImage","window","URL","createObjectURL","id","canvasObject","WebCam","scaleV","scaleH","stream","cameraTimeout","video","createElement","capturedContext","navigator","getUserMedia","audio","draw","error","console","log","flipHorizontal","drawRecognitionFrame","setTimeout","drawOutput","evaluateRecognition","clearTimeout","getTracks","generateHistogramValue","positionX","positionY","save","restore","beginPath","moveTo","lineTo","stroke","closePath","undefined","textAlign","font","fillStyle","fillText","Session","sessionStorage","val","JSON","stringify","key2","parse"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0d2e3adc6ffdc39da9dd","export const FACE_WIDTH = 180;\nexport const FACE_HEIGHT = 180;\nexport const CAMERA_WIDTH = 640;\nexport const CAMERA_HEIGHT = 480;\nexport const CANVAS_WIDTH = 480;\nexport const CANVAS_HEIGHT = 480;\nexport const CAPTURE_HEIGHT = 180;\nexport const CAPTURE_WIDTH = 180;\nexport const FACE_FRAME = [(CANVAS_WIDTH - FACE_WIDTH) / 2, (CANVAS_HEIGHT - FACE_HEIGHT) / 2, FACE_WIDTH, FACE_HEIGHT];\n\nexport const POINT_8 = 8;\nexport const RADIUS_1 = 1;\nexport const RADIUS_2 = 2;\nexport const RGBA_SHIFT = 4;\nexport const NEIGHBOUR_SHIFT = 3;\nexport const WEIGHT_BLOCK = [0.15, 0.08, 0.15, 0.08, 0.15, 0.08, 0.08, 0.15, 0.08];\nexport const UNIFORM_BINARY_PATTERN = ['non', 0, 1, 2, 3, 4, 6, 7, 8, 12, 14, 15, 16, 24, 28, 30, 31, 32, 48, 56, 60, 62, 63, 64, 96, 112, 120, 124, 126, 127, 128, 129, 131, 135, 143, 159, 191, 192, 193, 195, 199, 207, 223, 224, 225, 227, 231, 239, 240, 241, 243, 247, 248, 249, 251, 252, 253, 254, 255];\nexport const BLOCK_9_BY_9 = [\n  [0, 0, CAPTURE_WIDTH / 3 + 1, CAPTURE_HEIGHT / 3 + 1],\n  [CAPTURE_WIDTH / 3 - 1, 0, CAPTURE_WIDTH / 3 + 2, CAPTURE_HEIGHT / 3 + 1],\n  [CAPTURE_WIDTH * 2 / 3 - 1, 0, CAPTURE_WIDTH + 1, CAPTURE_HEIGHT / 3 + 1],\n\n  [0, CAPTURE_HEIGHT / 3 - 1, CAPTURE_WIDTH / 3 + 1, CAPTURE_HEIGHT / 3 + 2],\n  [CAPTURE_WIDTH / 3 - 1, CAPTURE_HEIGHT / 3 - 1, CAPTURE_WIDTH / 3 + 2, CAPTURE_HEIGHT / 3 + 2],\n  [CAPTURE_WIDTH * 2 / 3 - 1, CAPTURE_HEIGHT / 3 - 1, CAPTURE_WIDTH + 1, CAPTURE_HEIGHT / 3 + 2],\n\n  [0, CAPTURE_HEIGHT * 2 / 3 - 1, CAPTURE_WIDTH / 3 + 1, CAPTURE_HEIGHT / 3 + 1],\n  [CAPTURE_WIDTH / 3 - 1, CAPTURE_HEIGHT * 2 / 3 - 1, CAPTURE_WIDTH / 3 + 2, CAPTURE_HEIGHT / 3 + 1],\n  [CAPTURE_WIDTH * 2 / 3 - 1, CAPTURE_HEIGHT * 2 / 3 - 1, CAPTURE_WIDTH + 1, CAPTURE_HEIGHT / 3 + 1]\n];\n\nexport const CHI_RECOGNITION_DOF = 0.02;\nexport const CHI_RECOGNITION_BLOCKS_DOF = 0.05;\nexport const CHI_PREDICTION_DOF = 0.1;\n\nexport function unitStep(n) {\n  if (n < 0) {\n    return 0;\n  } else if (n >= 0) {\n    return 1;\n  }\n}\n\nexport function get1DPosition(colLength, x, y) {\n  return x + y * colLength;\n}\n\nexport function getCoordinate(colLength, position) {\n  return {\n    x: position % colLength,\n    y: Math.floor(position / colLength)\n  };\n}\n\nexport function valuesArray(arrayOfObjects, key) {\n  let values = [];\n  for (let i = 0, total = arrayOfObjects.length; i < total; i++) {\n    if (arrayOfObjects[i].hasOwnProperty(key)) {\n      values.push(arrayOfObjects[i][key]);\n    }\n  }\n  return values;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/Utils.js","import Session from \"./Session\";\nimport {FACE_DATA} from \"./Data\";\nimport * as utils from \"./Utils\";\nimport Histogram from \"./Histogram\";\n\nclass ImageProcessor {\n  static getImageData(canvas, ...parameters) {\n    return parameters.length === 4\n      ? canvas.getContext('2d').getImageData(...parameters)\n      : canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);\n  }\n\n  static rgb2gray(data) {\n    for (let i = 0, dataLength = data.length; i < dataLength; i += 4) {\n      data[i] = data[i + 1] = data[i + 2] = data[i] * 0.3 + data[i + 1] * 0.59 + data[i + 2] * 0.11;\n    }\n\n    return data;\n  }\n\n  static rgbCanvas2grey(canvas) {\n    let imageData = this.getImageData(canvas);\n    return this.rgb2gray(imageData.data);\n  }\n\n  static getPixelValue(context, x, y) {\n    let pixel = context.getImageData(x, y, 1, 1);\n\n    return pixel.data[0];\n  }\n\n  static extract8PointRadius1Feature(canvas, radius = 1) {\n    let context = canvas.getContext('2d');\n    let imageData = this.getImageData(canvas);\n    let data = imageData.data;\n    let backupData = imageData.data.slice();\n\n    for (let y = 1; y < canvas.height - 1; y++) {\n      for (let x = 1, index = 0; x < canvas.width - 1; x++, index += 4) {\n        let sum = 0;\n        let neighbourValue = [];\n        let centerPosition = utils.get1DPosition(canvas.width, x, y) * utils.RGBA_SHIFT;\n        let centerValue = this.getGrayScaleValue(backupData, centerPosition);\n        neighbourValue[7] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x - radius, y - radius) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[6] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x, y - radius) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[5] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x + radius, y - radius) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[4] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x + radius, y) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[3] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x + radius, y + radius) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[2] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x, y + radius) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[1] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x - radius, y + radius) * utils.RGBA_SHIFT) - centerValue;\n        neighbourValue[0] = this.getGrayScaleValue(backupData, utils.get1DPosition(canvas.width, x - radius, y) * utils.RGBA_SHIFT) - centerValue;\n\n        for (let k = 0, totalNeighbour = neighbourValue.length; k < totalNeighbour; k++) {\n          sum += utils.unitStep(neighbourValue[k]) * Math.pow(2, k);\n        }\n        data[centerPosition] = data[centerPosition + 1] = data[centerPosition + 2] = sum;\n      }\n    }\n\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    context.putImageData(imageData, 0, 0);\n  }\n\n  static getGrayScaleValue(data, position) {\n    return data[position] * 0.3 + data[position + 1] * 0.59 + data[position + 2] * 0.11;\n  }\n\n  static evaluateRecognition(canvas) {\n    this.extract8PointRadius1Feature(canvas);\n\n    /*let maxMatch = {\n      value: 1,\n      name: 'Unknown'\n    };*/\n    let maxMatchBlock = {\n      value: 1,\n      name: 'Unknown'\n    };\n    let observedBlockHistogram = [];\n    // let observedHistogram = Histogram.uniformBinary(this.getImageData(canvas));\n\n    for (let i = 0, totalBlock = utils.BLOCK_9_BY_9.length; i < totalBlock; i++) {\n      observedBlockHistogram = observedBlockHistogram.concat(utils.valuesArray(Histogram.uniformBinary(this.getImageData(canvas, ...utils.BLOCK_9_BY_9[i])), 'normalized'));\n    }\n\n    // this.compareWithData(utils.valuesArray(observedHistogram, 'normalized'), Object.assign({}, Session.get('data'), FACE_DATA), 'area', maxMatch);\n    this.compareWithData(observedBlockHistogram, Object.assign({}, Session.get('data'), FACE_DATA), 'blocks', maxMatchBlock);\n\n    if (maxMatchBlock.value < utils.CHI_RECOGNITION_BLOCKS_DOF) {\n      return maxMatchBlock;\n    }\n  }\n\n  static compareWithData(relativeData, data, type, maxMatch) {\n    for (let key in data) {\n      if (data.hasOwnProperty(key)) {\n        let difference = Histogram.compareHistogram(relativeData, data[key][type]);\n        if (difference < maxMatch.value) {\n          maxMatch.name = key;\n          maxMatch.value = difference;\n        }\n      }\n    }\n  }\n}\n\nexport default ImageProcessor;\n\n\n// WEBPACK FOOTER //\n// ./src/js/ImageProcessor.js","import Session from \"./Session\";\nimport * as utils from \"./Utils\";\nimport ImageProcessor from \"./ImageProcessor\";\n\nclass Histogram {\n  static init(bins) {\n    let histogram = [];\n    for (let i = 0, binLength = bins.length; i < binLength; i++) {\n      histogram.push({\n        'bin': bins[i],\n        'frequency': 0,\n        'normalized': 0\n      });\n    }\n    return histogram;\n  }\n\n  static uniformBinary(imageData) {\n    let data = imageData.data;\n    let histogram = this.init(utils.UNIFORM_BINARY_PATTERN);\n    for (let i = 0, dataLength = data.length; i < dataLength; i += 4) {\n      let isNotUniform = true;\n      for (let j = 1, uniformLength = utils.UNIFORM_BINARY_PATTERN.length; j < uniformLength; j++) {\n        if (utils.UNIFORM_BINARY_PATTERN[j] === data[i]) {\n          this.incrementHistogramFrequency(histogram, j, dataLength);\n          isNotUniform = false;\n          break;\n        }\n      }\n      if (isNotUniform) {\n        this.incrementHistogramFrequency(histogram, 0, dataLength);\n      }\n    }\n    // console.log(this.isNormalized(histogram, data.length));\n\n    return histogram;\n  }\n\n  static incrementHistogramFrequency(histogram, index, dataLength) {\n    histogram[index].frequency++;\n    histogram[index].normalized = histogram[index].frequency / (dataLength / 4);\n  }\n\n  static compareHistogram(firstHistogram, secondHistogram) {\n    return this.weightedChiSquare(firstHistogram, secondHistogram);\n  }\n\n  static chiSquare(firstHistogram, secondHistogram) {\n    let total = firstHistogram.length;\n    let sum = 0;\n    for (let i = 0; i < total; i++) {\n      sum += Math.pow((firstHistogram[i] - secondHistogram[i]), 2) / secondHistogram[i];\n    }\n\n    return sum;\n  }\n\n  static weightedChiSquare(firstHistogram, secondHistogram) {\n    let total = firstHistogram.length;\n    let sum = 0;\n    for (let i = 0, j = 0; i < total; i++) {\n      j = Math.floor(i / (utils.UNIFORM_BINARY_PATTERN.length));\n      sum += utils.WEIGHT_BLOCK[j] * Math.pow((firstHistogram[i] - secondHistogram[i]), 2) / (firstHistogram[i] + secondHistogram[i]);\n    }\n\n    return sum;\n  }\n\n  static isNormalized(histogram, dataLength) {\n    let totalFrequencies = 0, totalNormalizedValue = 0;\n    for (let k = 1; k < histogram.length; k++) {\n      totalFrequencies += histogram[k].frequency;\n      totalNormalizedValue += histogram[k].normalized;\n    }\n    return (totalFrequencies === dataLength / 4) && Math.round(totalNormalizedValue) === 1;\n  }\n\n  static generateHistogramValue(canvas, name) {\n    let data = {}, observedBlockHistogram = [];\n    if (Session.has()) {\n      data = Session.get('data');\n    }\n\n    for (let i = 0, totalBlock = utils.BLOCK_9_BY_9.length; i < totalBlock; i++) {\n      observedBlockHistogram = observedBlockHistogram.concat(utils.valuesArray(Histogram.uniformBinary(ImageProcessor.getImageData(canvas, ...utils.BLOCK_9_BY_9[i])), 'normalized'));\n    }\n\n    data[name] = {\n      area: utils.valuesArray(this.uniformBinary(ImageProcessor.getImageData(canvas)), 'normalized'),\n      blocks: observedBlockHistogram\n    };\n    Session.put('data', data);\n  }\n}\n\nexport default Histogram;\n\n\n// WEBPACK FOOTER //\n// ./src/js/Histogram.js","export const FACE_DATA = {\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Data.js","import FaceMess from './js/FaceMess';\n\nFaceMess.createWithImage('camera', 'images/lenna.png');\n\nlet faceMess = FaceMess.createById('camera');\nlet webCamIcon = document.querySelector('#webCam .fa');\n\ndocument.getElementById('webCam').addEventListener('click', () => {\n  if (faceMess.webcam.isActive) {\n    faceMess.stopWebCam();\n    webCamIcon.setAttribute('class', 'fa fa-play fa-2x');\n  } else {\n    faceMess.startWebCam();\n    webCamIcon.setAttribute('class', 'fa fa-pause fa-2x');\n  }\n});\n\ndocument.getElementById('capture').addEventListener('click', () => {\n  if (faceMess.webcam.isActive) {\n    let input = document.querySelector('.name input');\n    faceMess.stopWebCam();\n    webCamIcon.setAttribute('class', 'fa fa-play fa-2x');\n    input.style.display = 'block';\n    input.onkeydown = (event) => {\n      if (event.keyCode === 13) { // Enter\n        faceMess.capture(input.value);\n        input.style.display = 'none';\n        input.value = '';\n      }\n    }\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import WebCam from \"./WebCam\";\nimport * as utils from \"./Utils\";\nimport ImageProcessor from \"./ImageProcessor\";\n\nclass FaceMess {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.capturedCanvas = document.getElementById('capturedImage');\n    this.capturedCanvas.width = utils.CAPTURE_WIDTH;\n    this.capturedCanvas.height = utils.CAPTURE_HEIGHT;\n    this.webcam = new WebCam(this.canvas, this.capturedCanvas);\n  }\n\n  static createById(id) {\n    let canvas = document.getElementById(id);\n    canvas.height = utils.CANVAS_HEIGHT;\n    canvas.width = utils.CANVAS_WIDTH;\n    return new FaceMess(canvas);\n  }\n\n  static createWithImage(id, src) {\n    let canvasObject = FaceMess.createById(id);\n    canvasObject.browseImage(src);\n\n    return canvasObject;\n  }\n\n  startWebCam() {\n    this.webcam.start();\n  }\n\n  stopWebCam() {\n    this.webcam.stop();\n  }\n\n  capture(name) {\n    this.webcam.capture(name);\n  }\n\n  browseImage(src) {\n    let image = new Image();\n    image.src = src;\n    image.onload = () => {\n      let scale = utils.CAPTURE_WIDTH / image.width;\n      let context = this.capturedCanvas.getContext('2d');\n      context.clearRect(0, 0, utils.CAPTURE_WIDTH, utils.CAPTURE_HEIGHT);\n      context.drawImage(image, 0, (utils.CAPTURE_HEIGHT - image.height * scale) / 2, utils.CAPTURE_WIDTH, image.height * scale);\n      ImageProcessor.extract8PointRadius1Feature(this.capturedCanvas);\n    };\n  }\n\n  handleLocalFile(file) {\n    if (file.type.match(/image.*/)) {\n      this.browseImage(window.URL.createObjectURL(file));\n    }\n  }\n}\n\nexport default FaceMess;\n\n\n// WEBPACK FOOTER //\n// ./src/js/FaceMess.js","import * as utils from \"./Utils\";\nimport ImageProcessor from \"./ImageProcessor\";\nimport Histogram from \"./Histogram\";\n\nclass WebCam {\n  constructor(canvas, capturedCanvas) {\n    this.scaleV = 1;\n    this.scaleH = -1;\n    this.stream = '';\n    this.isActive = false;\n    this.cameraTimeout = '';\n    this.video = document.createElement('video');\n\n    this.canvas = canvas;\n    this.capturedCanvas = capturedCanvas;\n    this.context = this.canvas.getContext(\"2d\");\n    this.capturedContext = this.capturedCanvas.getContext(\"2d\");\n  }\n\n  start() {\n    navigator.getUserMedia({\n      video: true,\n      audio: false\n    }, (stream) => {\n      this.stream = stream;\n      this.video.src = window.URL.createObjectURL(stream);\n      draw();\n    }, function (error) {\n      console.log(error);\n    });\n    let draw = () => {\n      this.flipHorizontal();\n      this.drawRecognitionFrame();\n      this.capturedContext.drawImage(this.canvas, (utils.CANVAS_WIDTH - utils.FACE_WIDTH) / 2, (utils.CANVAS_HEIGHT - utils.FACE_HEIGHT) / 2, utils.FACE_WIDTH, utils.FACE_HEIGHT, 0, 0, this.capturedCanvas.width, this.capturedCanvas.height);\n\n      this.cameraTimeout = setTimeout(draw, 100, this.video, this.context);\n      this.drawOutput(ImageProcessor.evaluateRecognition(this.capturedCanvas));\n    };\n    this.isActive = true;\n  }\n\n  stop() {\n    clearTimeout(this.cameraTimeout);\n    this.stream.getTracks()[0].stop();\n    this.isActive = false;\n  }\n\n  capture(name) {\n    this.capturedContext.clearRect(0, 0, this.capturedCanvas.width, this.capturedCanvas.height);\n    this.capturedContext.drawImage(this.canvas, ...utils.FACE_FRAME, 0, 0, this.capturedCanvas.width, this.capturedCanvas.height);\n    ImageProcessor.extract8PointRadius1Feature(this.capturedCanvas);\n    Histogram.generateHistogramValue(this.capturedCanvas, name);\n  }\n\n  /**\n   * By default web cam video is opposite.\n   */\n  flipHorizontal() {\n    let positionX = (this.scaleH === 1 ? 0 : utils.CANVAS_WIDTH * -1) + (utils.CANVAS_WIDTH - utils.CAMERA_WIDTH) / 2;\n    let positionY = (this.scaleV === 1 ? 0 : utils.CANVAS_HEIGHT * -1) + (utils.CANVAS_HEIGHT - utils.CAMERA_HEIGHT) / 2;\n    this.context.save();\n    this.context.scale(this.scaleH, this.scaleV);\n    this.context.drawImage(this.video, positionX, positionY);\n    this.context.restore();\n  }\n\n  /**\n   * Recognition frame is region where core feature extraction and recognition works.\n   */\n  drawRecognitionFrame() {\n    this.context.beginPath();\n    this.context.moveTo(utils.FACE_FRAME[0], utils.FACE_FRAME[1]);\n    this.context.lineTo(utils.FACE_FRAME[0] + utils.FACE_FRAME[2], utils.FACE_FRAME[1]);\n    this.context.lineTo(utils.FACE_FRAME[0] + utils.FACE_FRAME[2], utils.FACE_FRAME[1] + utils.FACE_FRAME[3]);\n    this.context.lineTo(utils.FACE_FRAME[0], utils.FACE_FRAME[1] + utils.FACE_FRAME[3]);\n    this.context.lineTo(utils.FACE_FRAME[0], utils.FACE_FRAME[1]);\n    this.context.stroke();\n    this.context.closePath();\n  }\n\n  drawOutput(maxMatch) {\n    if (maxMatch !== undefined) {\n      this.context.textAlign = 'center';\n      this.context.font = 'bold 20pt Calibri';\n      this.context.fillStyle = '#ffffff';\n      this.context.fillText(\"You're\", this.canvas.width / 2, this.canvas.height / 2 - 20);\n      this.context.fillText(maxMatch.name, this.canvas.width / 2, this.canvas.height / 2 + 20);\n    }\n  }\n}\n\nexport default WebCam;\n\n\n// WEBPACK FOOTER //\n// ./src/js/WebCam.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.scss\n// module id = 8\n// module chunks = 0","class Session {\n  static has() {\n    return !!sessionStorage.length;\n  }\n\n  static put(key, val) {\n    sessionStorage[key] = JSON.stringify(val);\n  }\n\n  static get(key, key2) {\n    if (this.has()) {\n      if (key2 === undefined) {\n        return JSON.parse(sessionStorage[key]);\n      }\n      return JSON.parse(sessionStorage[key])[key2];\n    }\n    return null;\n  }\n}\n\nexport default Session;\n\n\n// WEBPACK FOOTER //\n// ./src/js/Session.js"],"sourceRoot":""}